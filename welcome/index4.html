<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrimeRealty - Secure Lead Collection</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            position: relative;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .logo {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: #fdbb2d;
        }
        
        .tagline {
            font-size: 16px;
            opacity: 0.8;
        }
        
        .app-body {
            padding: 30px;
        }
        
        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .screen.active {
            display: block;
        }
        
        .option-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            align-items: center;
            border: 2px solid transparent;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
        }
        
        .option-icon {
            width: 60px;
            height: 60px;
            background: #f8f9fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 24px;
            color: #2c3e50;
        }
        
        .option-content {
            flex: 1;
        }
        
        .option-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .option-desc {
            font-size: 14px;
            color: #7f8c8d;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .btn-secondary {
            background: #e74c3c;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #c0392b;
        }
        
        .btn-back {
            background: #95a5a6;
            color: white;
        }
        
        .btn-back:hover {
            background: #7f8c8d;
        }
        
        .btn-download {
            background: #2ecc71;
            color: white;
        }
        
        .btn-download:hover {
            background: #27ae60;
        }
        
        .btn-decrypt {
            background: #9b59b6;
            color: white;
        }
        
        .btn-decrypt:hover {
            background: #8e44ad;
        }
        
        .progress-bar {
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #3498db;
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 25px;
            text-align: center;
            font-size: 24px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #3498db;
            outline: none;
        }
        
        .thank-you {
            text-align: center;
            padding: 40px;
        }
        
        .thank-you i {
            font-size: 60px;
            color: #2ecc71;
            margin-bottom: 20px;
        }
        
        .thank-you h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .thank-you p {
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .admin-panel {
            display: none;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .encrypted-data {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            background: #e8f4fc;
            border-left: 4px solid #3498db;
            word-break: break-all;
            font-family: monospace;
            display: none;
        }
        
        .instructions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
        }
        
        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .instructions ol {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            color: #7f8c8d;
        }
        
        .decryption-panel {
            display: none;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .leads-list {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            background: white;
            display: none;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 600px) {
            .option-card {
                flex-direction: column;
                text-align: center;
            }
            
            .option-icon {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <i class="fas fa-home"></i>
                <span>PrimeRealty Leads</span>
            </div>
            <div class="tagline">Secure lead collection - Your data is encrypted</div>
        </div>
        
        <div class="app-body">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <!-- Screen 1: Main Options -->
            <div class="screen active" id="screen-1">
                <h2>How can we help you today?</h2>
                
                <div class="option-card" onclick="selectOption('buy')">
                    <div class="option-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">I Want to Buy</div>
                        <div class="option-desc">Find your dream home with our extensive property listings</div>
                    </div>
                </div>
                
                <div class="option-card" onclick="selectOption('rent')">
                    <div class="option-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">I Want to Rent</div>
                        <div class="option-desc">Discover rental properties that match your needs and budget</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-decrypt" onclick="showDecryptionPanel()">
                        <i class="fas fa-lock"></i> Admin Decryption
                    </button>
                </div>
            </div>
            
            <!-- Screen 2: Buy Options -->
            <div class="screen" id="screen-2">
                <h2>Tell us about your buying situation</h2>
                
                <div class="option-card" onclick="selectBuyOption('first-time')">
                    <div class="option-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">I Am a First Time Buyer</div>
                        <div class="option-desc">New to home ownership? We'll guide you through the process</div>
                    </div>
                </div>
                
                <div class="option-card" onclick="selectBuyOption('homeowner')">
                    <div class="option-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">I Currently Own a Home</div>
                        <div class="option-desc">Looking to upgrade or invest in additional property</div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="goBack(1)"><i class="fas fa-arrow-left"></i> Back</button>
                </div>
            </div>
            
            <!-- Screen 3: First Time Buyer Options -->
            <div class="screen" id="screen-3">
                <h2>What is your current loan situation?</h2>
                
                <div class="option-card" onclick="selectFirstTimeOption('have-loan')">
                    <div class="option-icon">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">I Have a Loan Pre-approval</div>
                        <div class="option-desc">Already secured financing for your home purchase</div>
                    </div>
                </div>
                
                <div class="option-card" onclick="selectFirstTimeOption('need-loan')">
                    <div class="option-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">I Need a Home Loan</div>
                        <div class="option-desc">Need assistance with financing options</div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="goBack(2)"><i class="fas fa-arrow-left"></i> Back</button>
                </div>
            </div>
            
            <!-- Screen 4: Homeowner Buyer Options -->
            <div class="screen" id="screen-4">
                <h2>What type of purchase are you considering?</h2>
                
                <div class="option-card" onclick="selectHomeownerOption('rent-to-buy')">
                    <div class="option-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">Rent to Buy</div>
                        <div class="option-desc">Explore properties with rent-to-own options</div>
                    </div>
                </div>
                
                <div class="option-card" onclick="selectHomeownerOption('buy-property')">
                    <div class="option-icon">
                        <i class="fas fa-house-user"></i>
                    </div>
                    <div class="option-content">
                        <div class="option-title">Buy Property</div>
                        <div class="option-desc">Purchase a new property for investment or relocation</div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="goBack(2)"><i class="fas fa-arrow-left"></i> Back</button>
                </div>
            </div>
            
            <!-- Screen 5: Contact Form -->
            <div class="screen" id="screen-5">
                <h2>Almost done! Please provide your contact details</h2>
                
                <div class="form-group">
                    <label for="name">Full Name *</label>
                    <input type="text" id="name" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" placeholder="Enter your phone number" required>
                </div>
                
                <div class="form-group">
                    <label for="budget">Budget Range</label>
                    <select id="budget">
                        <option value="">Select your budget range</option>
                        <option value="100-200">$100,000 - $200,000</option>
                        <option value="200-300">$200,000 - $300,000</option>
                        <option value="300-400">$300,000 - $400,000</option>
                        <option value="400-500">$400,000 - $500,000</option>
                        <option value="500+">$500,000+</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="notes">Additional Notes</label>
                    <textarea id="notes" placeholder="Any specific requirements?" rows="3"></textarea>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="goBack(4)"><i class="fas fa-arrow-left"></i> Back</button>
                    <button class="btn btn-primary" onclick="encryptAndStore()">Submit Information</button>
                </div>
            </div>
            
            <!-- Screen 6: Thank You -->
            <div class="screen" id="screen-6">
                <div class="thank-you">
                    <i class="fas fa-check-circle"></i>
                    <h2>Thank You!</h2>
                    <p>We've received your information and one of our real estate experts will contact you shortly to discuss your needs and help you find the perfect property.</p>
                    <p>Your data has been securely encrypted and stored.</p>
                    <button class="btn btn-primary" onclick="restartApp()">Start Over</button>
                </div>
                
                <div class="encrypted-data" id="encrypted-data">
                    <strong>Encrypted Data (For Reference):</strong><br>
                    <span id="encrypted-text"></span>
                </div>
            </div>
            
            <!-- Decryption Panel -->
            <div class="decryption-panel" id="decryption-panel">
                <h2>Admin Data Decryption</h2>
                
                <div class="form-group">
                    <label for="decryption-password">Decryption Password</label>
                    <input type="password" id="decryption-password" placeholder="Enter decryption password">
                </div>
                
                <div class="form-group">
                    <label for="encrypted-data-input">Encrypted Data (Paste here)</label>
                    <textarea id="encrypted-data-input" placeholder="Paste encrypted data here" rows="5"></textarea>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="hideDecryptionPanel()"><i class="fas fa-arrow-left"></i> Back to App</button>
                    <button class="btn btn-decrypt" onclick="decryptData()"><i class="fas fa-unlock"></i> Decrypt Data</button>
                </div>
                
                <div class="leads-list" id="leads-list">
                    <h3>Decrypted Lead Information</h3>
                    <div id="decrypted-content"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 1;
        let userChoices = {
            goal: '',
            buyerType: '',
            loanSituation: '',
            purchaseType: ''
        };
        
        // Update progress bar
        function updateProgress() {
            const progressPercentage = (currentScreen - 1) / 5 * 100;
            document.getElementById('progress').style.width = `${progressPercentage}%`;
        }
        
        // Show a specific screen
        function showScreen(screenNumber) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(`screen-${screenNumber}`).classList.add('active');
            currentScreen = screenNumber;
            updateProgress();
        }
        
        // Go back to previous screen
        function goBack(previousScreen) {
            showScreen(previousScreen);
        }
        
        // Restart the app
        function restartApp() {
            userChoices = {
                goal: '',
                buyerType: '',
                loanSituation: '',
                purchaseType: ''
            };
            showScreen(1);
        }
        
        // Option selection functions
        function selectOption(option) {
            userChoices.goal = option;
            if (option === 'buy') {
                showScreen(2);
            } else if (option === 'rent') {
                userChoices.buyerType = 'rent';
                showScreen(5);
            }
        }
        
        function selectBuyOption(option) {
            userChoices.buyerType = option;
            if (option === 'first-time') {
                showScreen(3);
            } else if (option === 'homeowner') {
                showScreen(4);
            }
        }
        
        function selectFirstTimeOption(option) {
            userChoices.loanSituation = option;
            showScreen(5);
        }
        
        function selectHomeownerOption(option) {
            userChoices.purchaseType = option;
            showScreen(5);
        }
        
        // Show decryption panel
        function showDecryptionPanel() {
            document.getElementById('decryption-panel').style.display = 'block';
            document.getElementById('screen-1').style.display = 'none';
        }
        
        // Hide decryption panel
        function hideDecryptionPanel() {
            document.getElementById('decryption-panel').style.display = 'none';
            document.getElementById('screen-1').style.display = 'block';
            document.getElementById('leads-list').style.display = 'none';
            document.getElementById('decrypted-content').innerHTML = '';
        }
        
        // Encrypt and store data
        function encryptAndStore() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const budget = document.getElementById('budget').value;
            const notes = document.getElementById('notes').value;
            
            // Basic validation
            if (!name || !email || !phone) {
                alert('Please fill in all required fields (name, email, phone)');
                return;
            }
            
            // Create lead object
            const lead = {
                id: Date.now(),
                date: new Date().toISOString(),
                name,
                email,
                phone,
                budget,
                notes,
                goal: userChoices.goal,
                buyerType: userChoices.buyerType,
                loanSituation: userChoices.loanSituation,
                purchaseType: userChoices.purchaseType,
                userAgent: navigator.userAgent
            };
            
            // Generate a random encryption password (in a real app, you would use a fixed password known only to you)
            const encryptionPassword = generateEncryptionPassword();
            
            // Encrypt the data
            const encryptedData = CryptoJS.AES.encrypt(JSON.stringify(lead), encryptionPassword).toString();
            
            // Display the encrypted data (for demo purposes)
            document.getElementById('encrypted-text').textContent = encryptedData;
            document.getElementById('encrypted-data').style.display = 'block';
            
            // In a real implementation, you would store this encrypted data
            // For this demo, we'll just show it on screen
            
            // Show thank you screen
            showScreen(6);
            
            // Reset form
            document.getElementById('name').value = '';
            document.getElementById('email').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('budget').value = '';
            document.getElementById('notes').value = '';
        }
        
        // Generate encryption password (in a real app, use a fixed password)
        function generateEncryptionPassword() {
            // This generates a random password for demo purposes
            // In production, you would use a fixed password that only you know
            return 'prime_realty_secure_key_2023'; // Replace with your actual secure password
        }
        
        // Decrypt data
        function decryptData() {
            const password = document.getElementById('decryption-password').value;
            const encryptedData = document.getElementById('encrypted-data-input').value;
            
            if (!password) {
                alert('Please enter the decryption password');
                return;
            }
            
            if (!encryptedData) {
                alert('Please paste the encrypted data');
                return;
            }
            
            try {
                // Decrypt the data
                const bytes = CryptoJS.AES.decrypt(encryptedData, password);
                const decryptedData = bytes.toString(CryptoJS.enc.Utf8);
                
                if (!decryptedData) {
                    alert('Decryption failed. Please check your password and data.');
                    return;
                }
                
                const lead = JSON.parse(decryptedData);
                
                // Format the options for display
                let optionsText = '';
                if (lead.goal === 'buy') {
                    optionsText = `Buyer Type: ${formatOption(lead.buyerType)}`;
                    if (lead.buyerType === 'first-time') {
                        optionsText += ` | Loan: ${formatOption(lead.loanSituation)}`;
                    } else if (lead.buyerType === 'homeowner') {
                        optionsText += ` | Purchase: ${formatOption(lead.purchaseType)}`;
                    }
                } else {
                    optionsText = 'Rental Inquiry';
                }
                
                // Display the decrypted data
                document.getElementById('decrypted-content').innerHTML = `
                    <div style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                        <h4>Lead Information</h4>
                        <p><strong>Date:</strong> ${new Date(lead.date).toLocaleString()}</p>
                        <p><strong>Name:</strong> ${lead.name}</p>
                        <p><strong>Email:</strong> ${lead.email}</p>
                        <p><strong>Phone:</strong> ${lead.phone}</p>
                        <p><strong>Type:</strong> ${lead.goal === 'buy' ? 'Buyer' : 'Renter'}</p>
                        <p><strong>Options:</strong> ${optionsText}</p>
                        <p><strong>Budget:</strong> ${lead.budget || 'Not specified'}</p>
                        <p><strong>Notes:</strong> ${lead.notes || 'None'}</p>
                    </div>
                `;
                
                document.getElementById('leads-list').style.display = 'block';
                
            } catch (error) {
                console.error('Decryption error:', error);
                alert('Decryption failed. Please check your password and data.');
            }
        }
        
        // Format option text for display
        function formatOption(option) {
            if (!option) return 'N/A';
            
            const optionMap = {
                'first-time': 'First Time Buyer',
                'homeowner': 'Current Homeowner',
                'have-loan': 'Has Loan Pre-approval',
                'need-loan': 'Needs Home Loan',
                'rent-to-buy': 'Rent to Buy',
                'buy-property': 'Buy Property',
                'rent': 'Rent'
            };
            
            return optionMap[option] || option;
        }
        
        // Initialize the app
        updateProgress();
    </script>
</body>
</html>